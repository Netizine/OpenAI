<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Projects\Netizine.OpenAI\src\Netizine.OpenAI\Infrastructure\Public\OpenAIResponseBase.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// ReSharper disable once CheckNamespace
namespace OpenAI
{
    using System;
    using System.Linq;
    using System.Net;
    using System.Net.Http.Headers;

    /// &lt;summary&gt;
    /// Represents a response from OpenAI&#39;s API.
    /// &lt;/summary&gt;
    public abstract class OpenAIResponseBase
    {
        /// &lt;summary&gt;Initializes a new instance of the &lt;see cref=&quot;OpenAIResponseBase&quot;/&gt; class.&lt;/summary&gt;
        /// &lt;param name=&quot;statusCode&quot;&gt;The HTTP status code.&lt;/param&gt;
        /// &lt;param name=&quot;headers&quot;&gt;The HTTP headers of the response.&lt;/param&gt;
        protected OpenAIResponseBase(HttpStatusCode statusCode, HttpResponseHeaders headers)
        {
            this.StatusCode = statusCode;
            this.Headers = headers;
        }

        /// &lt;summary&gt;Gets the HTTP status code of the response.&lt;/summary&gt;
        /// &lt;value&gt;The HTTP status code of the response.&lt;/value&gt;
        public HttpStatusCode StatusCode { get; }

        /// &lt;summary&gt;Gets the HTTP headers of the response.&lt;/summary&gt;
        /// &lt;value&gt;The HTTP headers of the response.&lt;/value&gt;
        public HttpResponseHeaders Headers { get; }

        /// &lt;summary&gt;Gets the date of the request, as returned by OpenAI.&lt;/summary&gt;
        /// &lt;value&gt;The date of the request, as returned by OpenAI.&lt;/value&gt;
        public DateTimeOffset? Date =&gt; this.Headers?.Date;

        /// &lt;summary&gt;Gets the organization id key of the request, as returned by OpenAI.&lt;/summary&gt;
        /// &lt;value&gt;The organization id key of the request, as returned by OpenAI.&lt;/value&gt;
        public string OrganizationId =&gt; MaybeGetHeader(this.Headers, &quot;OpenAI-Organization&quot;);

        /// &lt;summary&gt;Gets the ID of the request, as returned by OpenAI.&lt;/summary&gt;
        /// &lt;value&gt;The ID of the request, as returned by OpenAI.&lt;/value&gt;
        public string RequestId =&gt; MaybeGetHeader(this.Headers, &quot;Request-Id&quot;);

        internal int NumRetries { get; set; }

        /// &lt;summary&gt;Returns a string that represents the &lt;see cref=&quot;OpenAIResponse&quot;/&gt;.&lt;/summary&gt;
        /// &lt;returns&gt;A string that represents the &lt;see cref=&quot;OpenAIResponse&quot;/&gt;.&lt;/returns&gt;
        public override string ToString()
        {
            return
                $&quot;&lt;{this.GetType().FullName} status={(int)this.StatusCode} Request-Id={this.RequestId} Date={this.Date?.ToString(&quot;s&quot;)}&gt;&quot;;
        }

        private static string MaybeGetHeader(HttpHeaders headers, string name)
        {
            if ((headers == null) || (!headers.Contains(name)))
            {
                return null;
            }

            return headers.GetValues(name).First();
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[17,9,17,93,1],[19,13,19,42,1],[20,13,20,36,1],[21,9,21,10,1],[25,44,25,48,1],[29,46,29,50,1],[33,40,33,58,1],[37,41,37,92,0],[41,36,41,78,0],[43,35,43,39,1],[43,40,43,44,1],[49,13,50,138,0],[55,13,55,64,0],[57,17,57,29,0],[60,13,60,52,0]]);
    </script>
  </body>
</html>