<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Projects\Netizine.OpenAI\tests\Netizine.OpenAI.Tests\Infrastructure\SerializationTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
#pragma warning disable CS0618
namespace OpenAI.Tests
{
    using System;
    using Newtonsoft.Json;
    using OpenAI;
    using OpenAI.Tests.Infrastructure.TestData;
    using Xunit;

    public class SerializationTest : BaseOpenAITest
    {
        [Fact]
        public void RoundtripDatetime()
        {
            var date = DateTime.UtcNow;
            var roundedDate = date.AddTicks(-1 * (date.Ticks % TimeSpan.TicksPerSecond));
            var obj = new TestObjectDateTime
            {
                Date = roundedDate,
            };

            var reloaded = JsonConvert.DeserializeObject&lt;TestObjectDateTime&gt;(JsonConvert.SerializeObject(obj));
            Assert.Equal(reloaded.Date, obj.Date);
        }

        [Fact]
        public void HandleNull()
        {
            var obj = new TestObjectDateTime
            {
                Date = null,
            };

            var reloaded = JsonConvert.DeserializeObject&lt;TestObjectDateTime&gt;(JsonConvert.SerializeObject(obj));
            Assert.Null(reloaded.Date);
        }

        [Fact]
        public void Serialize()
        {
            var json = GetResourceAsString(&quot;api_fixtures.engines.json&quot;);
            var evt = JsonConvert.DeserializeObject&lt;Engine&gt;(json);
            var serialized = JsonConvert.SerializeObject(evt, Formatting.Indented);
            var reserialized = JsonConvert.SerializeObject(
                JsonConvert.DeserializeObject&lt;Engine&gt;(serialized),
                Formatting.Indented);
            Assert.Equal(serialized, reserialized);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[15,13,15,40,1],[16,13,16,90,1],[17,13,20,15,1],[22,13,22,112,1],[23,13,23,51,1],[24,9,24,10,1],[29,13,32,15,1],[34,13,34,112,1],[35,13,35,40,1],[36,9,36,10,1],[41,13,41,73,1],[42,13,42,67,1],[43,13,43,84,1],[44,13,46,38,1],[47,13,47,52,1],[48,9,48,10,1]]);
    </script>
  </body>
</html>